{"version":3,"sources":["classes/LocStorage.ts","classes/TableComponents.ts","components/new-document/index.ts"],"names":[],"mappings":"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","file":"new-document.76553a51.js","sourceRoot":"..\\src","sourcesContent":["import { IDataStorage } from \"../interfaces/idata-storage\";\r\nimport { Form } from \"./Form\";\r\n\r\nexport class LocStorage implements IDataStorage {\r\n\r\n    constructor() {\r\n        this.DataStorage = window.localStorage;   \r\n    }\r\n\r\n    DataStorage: any;\r\n\r\n    saveDocument(documentObject: Form): string {\r\n        const savedDocument = this.DataStorage.setItem(`document-${Date.now()}`, JSON.stringify(documentObject));\r\n        return savedDocument;\r\n    }    \r\n\r\n    saveEditedDocument(documentObject: Form, key: string): string {\r\n        const savedDocument = this.DataStorage.setItem(key, JSON.stringify(documentObject));\r\n        return savedDocument;\r\n    }\r\n\r\n    loadDocument(key: string): object {\r\n        const loadedDocument = this.DataStorage.getItem(key);\r\n        return loadedDocument;\r\n    }\r\n\r\n    getDocuments(): string[] {\r\n        const documents: object = {...this.DataStorage};\r\n        const documentsArray: string[] = [];\r\n        for(let key in documents) {\r\n            if (key.substr(0,2)!='F-') {\r\n                if (!documents.hasOwnProperty(key)) continue;\r\n                documentsArray.push(key);\r\n            } \r\n        }\r\n        return documentsArray;\r\n    }\r\n\r\n    getForms(): string[] {\r\n        const formsArray: string[] = [];\r\n        const forms = {...this.DataStorage};\r\n        const formsKeysList = Object.keys(forms);\r\n        for (const name of formsKeysList) {\r\n            if (name.substr(0,2)=='F-') {\r\n                formsArray.push(name);\r\n            }\r\n        }\r\n        return formsArray;\r\n    }\r\n\r\n    removeDocument(key: string): void {\r\n        this.DataStorage.removeItem(key);\r\n    }\r\n\r\n    saveForm(formObject: Form, name: string): string {\r\n        const savedForm = this.DataStorage.setItem(`F-${name}-${Date.now()}`, JSON.stringify(formObject));\r\n        return savedForm;\r\n    }\r\n}","import { LocStorage } from './LocStorage';\r\nimport { IComponent } from \"../interfaces/icomponent\";\r\n\r\nexport class TableComponents implements IComponent {\r\n\r\n    constructor() {\r\n      this.localStorage = new LocStorage();\r\n    }\r\n\r\n    localStorage: LocStorage;\r\n\r\n    public render(container: HTMLElement, name: string, num: number): void {\r\n        container.appendChild(this.newTableRowElement(name, num));\r\n    }\r\n\r\n    private newTableRowElement(name: string, num: number) {\r\n        const tr = document.createElement('tr');\r\n        const th = this.tableTh(num);\r\n        const tdName = this.nameTd(name);\r\n        const tdDate = this.dateTd(name);    \r\n        const tdActions = this.actionsTd(name);\r\n        tr.append(th,tdName, tdDate, tdActions);\r\n        return tr;\r\n    }\r\n\r\n    private tableTh(num: number) {\r\n        const th = document.createElement('th');\r\n        th.setAttribute('scope', 'row');\r\n        th.innerHTML = num.toString();\r\n        return th;\r\n    }\r\n\r\n    private nameTd(name: string) {\r\n        const slicedName = name.slice(0,-14);\r\n        const validName = slicedName.substring(2);\r\n        const td = document.createElement('td');\r\n        td.innerHTML = validName;\r\n        return td;\r\n    }\r\n\r\n    private dateTd(name: string) {\r\n        const td = document.createElement('td');\r\n        const fullDate = new Date(parseInt(name.slice(-13)));\r\n        const year = fullDate.getFullYear();\r\n        const month = fullDate.getMonth() + 1;\r\n        const day = fullDate.getDate();\r\n        td.innerHTML = `${day}-${month}-${year}`;\r\n        return td;\r\n    }\r\n\r\n    private actionsTd(name: string) {\r\n        const td = document.createElement('td');\r\n        const fillButton = this.newButton('FILL', ['btn', 'btn-info']);\r\n        fillButton.addEventListener('click', () => {\r\n            window.location.href = `../form/form.html?id=${name}`;\r\n        })\r\n        const deleteButton = this.newButton('DELETE', ['btn', 'btn-danger']);\r\n        deleteButton.addEventListener('click', () => {\r\n            td.parentElement.remove();\r\n            this.localStorage.removeDocument(name);\r\n        })\r\n        td.append(fillButton, deleteButton);\r\n        return td;\r\n\r\n    }\r\n\r\n    private newButton(text: string, classes: string[] = ['btn']) {\r\n        const newButton = document.createElement('button');\r\n        classes.forEach(element => {\r\n            newButton.classList.add(element);\r\n        });\r\n        newButton.innerHTML = text;\r\n        return newButton;\r\n    }\r\n\r\n}","import { LocStorage } from '../../classes/LocStorage';\r\nimport { TableComponents } from \"../../classes/TableComponents\";\r\n\r\nconst newFormButton = document.querySelector('button.new');\r\nconst tableContainer: HTMLElement = document.querySelector('.table tbody');\r\nconst tableComponentsHandler = new TableComponents();\r\nconst localStorage = new LocStorage();\r\nconst forms = localStorage.getForms()\r\nforms.forEach((element, index) => {\r\n    tableComponentsHandler.render(tableContainer, element, index+1);\r\n});\r\n\r\nnewFormButton.addEventListener('click', () => {\r\n    window.location.href = \"../new-form/new-form.html\";\r\n})\r\n"]}